# 课后习题

## 1.2.6

1D 2A 3B 4D 5D 6A 7C 8A !9B/D !10D/C !11A/C 12B 13C 14C 15D 16D 17B !18B/C 19B !20C 21A !22C 23C 24A

## 1.3.3

1D 2B 3C !4C !5D 6B !7A/C 8D 9C !10C/B 11A !12D/A !13D/B !14A/D !15C 16B !17B/D !18A/D !19A/D !20C/D !21C !22D !23D 24D 25D 26C 27D 28C !29B !30B/D !31C/A 32C

## 2.1.5

1B 2B 3D 4B 5B 6D !7D/C 8D 9D !10A 11C 12B 13C !14B/C !15B/D 16B 17C 18A 19D 20B 21D 22C !23B !24D/A 25D !26D 27B 28B 29B 30D 31D 32A 33D 34B

## 2.2.5

!1B 2D 3C 4B 5D 6D 7C 8C !9C 10A 11C !12A/B 13B 14D !15B/C 16B !17A !18D/B !19C 20D 21B 22A 23C 24A !25A 26D 27B 28A 29C 30C 31B 32A 33B !34B !35D

大题
1.
A -9 -1001
B -5 -0101
A 1000 1001
B 1000 0101
A
1111 0111
B
1111 1011
A+B
1111 0010
OF=1异或1=0
无溢出
-B
0000 0101
A-B
1111 1100
OF=0异或0=0
无溢出

3
(1)
x 1100 0100
A 1011 1100 BCH
y 1101 0000
B 1011 0000 B0H
(2)
x+y
0110 1100 6CH
OF=1异或0=1
溢出
SF=0
(3)
-y
0101 0000 50H
x-y
0000 1100 0CH
OF=1异或1=0
不溢出
SF=0

## 3.1.4

!1C/D 2C !3B !4C/D 5A 6C 7B 8B 9D 10D 11D !12D 13A !14B

## 3.2.5

1C 2C 3B !4D/B 5B 6C 7A 8A 9D 10B 11A 12C 13C 14B !15B/C !16A 17D !18C !19A/B !20B 21D 22B !23C !24D !25A !26B !27A 28A 29A !30C/A 31B !32D !33C !34C !35C

大题
5.
00            01        10         11
DRAM0         DRAM1     DRAM2      DRAM3
                        10(2)      11(3)
100(4)                  1010(10)
1000(8)       101(9)
              1101(13)
              10001(17)
              100101(37)
              101001(41)           110011(51)
                                   1000011(67)

## 3.3.5

1D 2A 3D 4A 5C !6D !7D/A !8C !9D !10B !11D 12D !13A/D !14C/D !15D/C 16C 17C

## 3.4.3

1B 2A 3D 4C 5B 6D 7C !8D 9B 10B 11B 12C

## 3.5.6

!1A/B !2D/C 3C 4D 5A 6C 7B 8A !9C/D !10 11A 12A 13C !14D !15C !16A 17C !18 !19B !20B !21D 22A !23C !24A 25C !26D !27A 28D 29C !30 !31C 32A !33A !34A

14
4096*64=2^6*2^12=2^18
行号6位
tag位18-6=12位
有效位1位
地址映射表=12+1 * 64

15
块内地址2^4
128*2^10/16=2^7*2^10/2^4=2^13
2^13/8=2^10
组号位数10
00 0100 1000 1101
048DH

16
块内地址8*32bit=2^3*2^5=2^8
2^8/8=2^5B=32字节
5位
行号2^4*2^10/2^5=2^9
9位
0011 0101 0011 0000 0001
0011 01  01 0011 000  0 0001
0 1001 1000
8+16+128=152

19
Cache总量不变 块大小增加一倍 块内地址位数增加1位
块数量减少一倍
n路不变
组数量减少一倍
组位数减少1位
主存总量不变 主存位数不变
tag=主存位数-组位数-块内地址位数 不变

20
块内地址16=2^4
4位
行号16=2^4
4位
组号16/2=8=2^3
3位
0011 0000 48号 行号0011 组号011 冲突
308号 1 0011 0100 行号0011 组号011 冲突
或者
48/16B=3 3%16=3
308/16B=19 19%16=3
3%8=3
19%8=3

21
块内地址32bit=4B=2^2
2位
tag 32-2=30位
脏位 1
有效位 1
数据位32
共计64
32*64*K=2^5*2^6=2^11*K

23
1+8+1=10时钟周期
默认窄型结构
缺失损失=64/8*10=80时钟周期

24
1+8+1=10时钟周期
多模块交叉存储
支持突发传送
10+(8-1)*1=17

27
块内地址 512=2^9 9位
组号 8K/512/2=2^3*2^10/2^9/2=2^3 3位
主存地址 1M=2^20 20位
tag=20-9-3=8位

31
访问a[0]时先读再写 读未命中写命中
读未命中,将a[0]到a[3]写入Cache
后序访问a[1],a[2],a[3]时,读命中,写命中
所以8次中有1次未命中
Cache缺失率1/8=12.5%

33
块内地址 32B=2^5 5位
回写 脏位1
直接映射无替换算法位
32KB/32B=1K=2^10 10位
主存地址32
tag=32-10-5=17位
有效位1
数据位根据主存块大小来计算 32B=32*8位
Cache位数=数据位32*8+tag17+有效位1+脏位1=275位

34
8路 8个
块内地址 64B=2^6B 6位
组号 32KB/64B/8=0.5K/8=0.5*2^10/8=2^9/2^3=2^6 6位
主存地址 32位
tag=32-6-6=20位

## 4.1.6

1D !2A 3A 4A 5D !6D/C 7C 8C !9A/B !10B 11B 12B 13C !14C/D !15A !16B !17D

14
二地址 12*2=24位
操作码 32-24=8位
2^8=256条
256-250=6
6*2^12=3*2^13

15
29*2^{3*6}+107*2^{2*6}<=2^n
2^{4+18}+2^{6+12}<=2^n
2^22+2^18<=2^n
n>=22
n=24
6 6 6 6
2^6=64>29
(64-29)*2^6=35*2^6>107
24位
或者
2^5=32>29 至少
即操作数位至少5
剩余32-29=3
二地址3*2^6=3*64=192
指令字长最少5+6+6+6=23
凑整24位

17
操作码4位
2^4=16
二地址12
一地址4*2^6=4*64=256
零地址2*2^6=2*64=128

大题
2
(1)
固定
操作码16-6-6=4位
2^4=16种
16-M-N
(2)
2^4-1=15
(3)
二地址2^4种 最多
一地址(2^4-P)*2^6
零地址((2^4-P)*2^6-X)*2^6=Q
X=(2^4-P)*2^6-Q/2^6
